var n=Object.defineProperty;var l=(i,e,t)=>e in i?n(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var r=(i,e,t)=>(l(i,typeof e!="symbol"?e+"":e,t),t);import"./style.c0ed6924.js";import{E as u}from"./entidade.model.7c8b214e.js";import{T as h}from"./tarefas.repository.local-storage.0a1c315d.js";import"./guid.model.16afb711.js";var s=(i=>(i.Baixa="Baixa",i.M\u00E9dia="M\xE9dia",i.Alta="Alta",i))(s||{});class c extends u{constructor(t,a,o,d){super();r(this,"titulo");r(this,"descricao");r(this,"dataCriacao");r(this,"prioridade");d&&(this.id=d),this.titulo=t,this.descricao=a,this.dataCriacao=new Date,this.prioridade=o}}class m{constructor(e,t){r(this,"txtTitulo");r(this,"txtDescricao");r(this,"rdbPrioridade");r(this,"btnInserir");r(this,"idSelecionado");if(this.repositorioTarefas=e,this.configurarElementos(),t){this.idSelecionado=t;const a=this.repositorioTarefas.selecionarPorId(t);a&&this.preencherFormulario(a)}}preencherFormulario(e){switch(this.txtTitulo.value=e.titulo,this.txtDescricao.value=e.descricao,e.prioridade){case s.Baixa:this.rdbPrioridade=document.querySelector("input[value='Baixa']");break;case s.M\u00E9dia:this.rdbPrioridade=document.querySelector("input[value='M\xE9dia']");break;case s.Alta:this.rdbPrioridade=document.querySelector("input[value='Alta']");break}this.rdbPrioridade.checked=!0}configurarElementos(){this.txtTitulo=document.getElementById("txtTitulo"),this.txtDescricao=document.getElementById("txtDescricao"),this.btnInserir=document.getElementById("btnInserir"),this.btnInserir.addEventListener("click",e=>this.gravarRegistros())}gravarRegistros(){const e=this.obterDadosFormulario();this.idSelecionado?this.repositorioTarefas.editar(e.id,e):this.repositorioTarefas.inserir(e),window.location.href="tarefa.list.html"}obterDadosFormulario(){const e=this.txtTitulo.value,t=this.txtDescricao.value,a=this.obterPrioridadeSelecionada();let o=null;return this.idSelecionado?o=new c(e,t,a,this.idSelecionado):o=new c(e,t,a),o}obterPrioridadeSelecionada(){return this.rdbPrioridade=document.querySelector("input[type='radio']:checked"),this.rdbPrioridade.value}}const p=new URLSearchParams(window.location.search),f=p.get("id");new m(new h,f);
